using MEBS.Editor;
using MEBS.Runtime;

using System.Collections.Generic;
using UnityEditor;

#if UNITY_EDITOR
[InitializeOnLoad]
public class UserManger_Eval_[IDHere]_UI : MEB_UI_BehaviourEditor_ManagerData
{
    static UserManger_Eval_[IDHere]_UI()
    {
        MEB_UI_BehaviourEditor.AddEvalManager(new UserManger_Eval_[IDHere]_UI());
    }

    public UserManger_Eval_[IDHere]_UI()
    {
        m_name = "UserManger_Eval_[IDHere]";
    }

    public override MEB_BaseBehaviourData_ItemSettings CreateInstance()
    {
        MEB_BaseBehaviourData_ItemSettings data = new MEB_BaseBehaviourData_ItemSettings();
        data.m_class = "UserManger_Eval_[IDHere]";
        data.m_displayName = m_name;
        data.m_displayDiscription = "description here ...";

        return data;
    }
}
#endif

public class UserManger_Eval_[IDHere] : MEB_BaseManager, MEB_I_EvalScoop
{
    private int m_startPointOfScope = 0;
    private int m_endPointOfScope = 0;

    public void SetEvaluationScope(int start, int end)
    {
        m_startPointOfScope = start;
        m_endPointOfScope = end;
    }

    public override void SetBlackboardKeys(List<string> idenifyers, List<string> keys)
    {

    }

    public override void EvaluationStart(int index)
    { 
        int arrayLength = (m_endPointOfScope - m_startPointOfScope);
        
        for (int i = 0; i < arrayLength; i++)
        {
            int otherManagerIndex = ((index + m_endPointOfScope) - arrayLength) + i; //calulates the managers true index
            MEB_BaseManager manager = m_director.GetManagerByIndex(otherManagerIndex); //gets the manager
        }
    }

    public override void EvaluationEnd(int index)
    {
        BlockMoveToExecutionForCycle();
    }
}
